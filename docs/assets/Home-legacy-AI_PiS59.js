!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function l(e,a,o,i){var l=a&&a.prototype instanceof s?a:s,u=Object.create(l.prototype);return t(u,"_invoke",function(e,t,a){var o,i,l,s=0,u=a||[],p=!1,d={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,t){return o=e,i=0,l=n,d.n=t,c}};function f(e,t){for(i=e,l=t,r=0;!p&&s&&!a&&r<u.length;r++){var a,o=u[r],f=d.p,y=o[2];e>3?(a=y===t)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=f&&((a=e<2&&f<o[1])?(i=0,d.v=t,d.n=o[1]):f<y&&(a=e<3||o[0]>t||t>y)&&(o[4]=e,o[5]=t,d.n=y,i=0))}if(a||e>1)return c;throw p=!0,t}return function(a,u,y){if(s>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,y),i=u,l=y;(r=i<2?n:l)||!p;){o||(i?i<3?(i>1&&(d.n=-1),f(i,l)):d.n=l:d.v=l);try{if(s=2,o){if(i||(a="next"),r=o[a]){if(!(r=r.call(o,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,i<2&&(i=0)}else 1===i&&(r=o.return)&&r.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=n}else if((r=(p=d.n<0)?l:e.call(t,d))!==c)break}catch(r){o=n,i=1,l=r}finally{s=1}}return{value:r,done:p}}}(e,o,i),!0),u}var c={};function s(){}function u(){}function p(){}r=Object.getPrototypeOf;var d=[][o]?r(r([][o]())):(t(r={},o,function(){return this}),r),f=p.prototype=s.prototype=Object.create(d);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,t(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=p,t(f,"constructor",p),t(p,"constructor",u),u.displayName="GeneratorFunction",t(p,i,"GeneratorFunction"),t(f),t(f,i,"Generator"),t(f,o,function(){return this}),t(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:y}})()}function t(e,n,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,r,a){function i(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[n]=r:(i("next",0),i("throw",1),i("return",2))},t(e,n,r,a)}function n(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-BYu6Ok2m.js","./Header-legacy-MFT605Nm.js","./Button-legacy-Cd99rl7B.js","./ru-legacy-loHccoOd.js","./PortraitCard-legacy-Dlro6xh8.js","./time-legacy-CAhSdEcu.js"],function(t,a){"use strict";var o,i,l,c,s,u,p,d,f,y,g;return{setters:[function(e){o=e.r,i=e.a,l=e.j,c=e.m,s=e.E},function(e){u=e.H},function(e){p=e.B},function(e){d=e.R},function(e){f=e.C,y=e.P},function(e){g=e.f}],execute:function(){var a=document.createElement("style");a.textContent='._wrap_yzi99_2{display:grid;gap:12px;min-height:calc(100vh - 32px);padding:16px;background:var(--page-gradient),linear-gradient(180deg,var(--bg),var(--bg-2))}._panel_yzi99_11{background:var(--panel-bg);border:var(--panel-border);border-radius:16px;padding:12px;box-shadow:var(--shadow);position:relative;overflow:visible}._grid_yzi99_20{display:grid;gap:10px}._titleRow_yzi99_24{display:flex;align-items:center;gap:8px;margin-bottom:8px}._panelGlow_yzi99_31:before{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border-radius:inherit;background:radial-gradient(circle at 50% 20%,rgba(216,180,106,.08),transparent 70%);filter:blur(12px);z-index:-1}._heroImg_yzi99_42{width:100px;height:100px;border-radius:12px;object-fit:cover;border:2px solid var(--gold-weak);box-shadow:0 0 20px rgba(216,180,106,.15)}._appear_yzi99_52{animation:_fadeInUp_yzi99_1 .4s ease forwards}._heroCard_yzi99_58{display:grid;grid-template-columns:auto 1fr;align-items:center;gap:12px;padding:12px;border-radius:16px;background:var(--panel-bg);border:var(--panel-border);box-shadow:var(--shadow);overflow:visible}._heroThumb_yzi99_71{width:110px;height:110px;border-radius:12px;border:2px solid var(--gold-weak);box-shadow:0 0 20px rgba(216,180,106,.15);flex:none;overflow:hidden}._heroImg_yzi99_42{width:100%;height:100%;object-fit:cover;display:block}._heroMeta_yzi99_88{display:grid;gap:6px}._heroTitle_yzi99_89{font-weight:800;letter-spacing:.02em}._heroDesc_yzi99_90{opacity:.85;font-size:12px}._buttonList_yzi99_93{display:grid;gap:10px}._btnFull_yzi99_100{width:100%;text-align:left;justify-self:stretch}\n/*$vite$:1*/',document.head.appendChild(a),t("default",function(t){var a=t.player,h=t.onOpenQuests,v=t.onOpenJobs,x=t.onOpenArena,_=t.onOpenGuild,m=t.onOpenCharacter,j=t.setScreen,w=f[a.classId],z=r(o.useState(null),2),k=z[0],S=z[1],C=r(o.useState(0),2),O=C[0],N=C[1];return o.useEffect(function(){var t,r=!1;return(t=e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,i();case 1:n=e.v,!r&&null!=n&&n.ok&&n.data&&S(n.data.tag),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},t,null,[[0,2]])}),function(){var e=this,r=arguments;return new Promise(function(a,o){var i=t.apply(e,r);function l(e){n(i,a,o,l,c,"next",e)}function c(e){n(i,a,o,l,c,"throw",e)}l(void 0)})})(),function(){r=!0}},[]),o.useEffect(function(){var e=function(){return N(c(a.lastEnergyTs,s,a.energy,a.energyMax))};e();var t=setInterval(e,1e3);return function(){return clearInterval(t)}},[a.energy,a.energyMax,a.lastEnergyTs]),l.jsxs("div",{className:b.wrap,children:[l.jsx(u,{title:d.title,gold:a.gold,energy:a.energy,level:a.progress.level,badgeTag:k}),a.name?l.jsxs("div",{style:{margin:"8px 14px",fontSize:12,opacity:.9},children:["ðŸ‘¤ ",a.name]}):null,a.energy<a.energyMax?l.jsxs("div",{style:{margin:"0 14px 8px",fontSize:12,opacity:.75},children:["âš¡ +1 Ñ‡ÐµÑ€ÐµÐ·: ",g(O)]}):null,l.jsx("section",{className:"".concat(b.panel," ").concat(b.panelGlow," ").concat(b.appear),children:l.jsx(y,{img:w.img,title:"".concat(a.name?"ðŸ‘¤ ".concat(a.name," â€¢ "):"").concat(w.title),subtitle:"".concat(w.desc,". ").concat(d.stats.level," ").concat(a.progress.level," â€¢ ").concat(d.stats.energy,": ").concat(a.energy,"/").concat(a.energyMax),size:"md",rightSlot:l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx(p,{className:b.btnFull,onClick:function(){return null==j?void 0:j("square")},children:d.navWhere}),l.jsx(p,{className:b.btnFull,onClick:m,children:d.buttons.character})]})})}),l.jsxs("section",{className:"".concat(b.panel," ").concat(b.panelGlow," ").concat(b.appear),children:[l.jsx("div",{className:b.titleRow,children:l.jsx("span",{style:{opacity:.85},children:d.navWhere})}),l.jsxs("div",{className:b.buttonList,children:[l.jsx(p,{className:b.btnFull,onClick:function(){null==j||j("quests"),h()},children:d.buttons.quests}),l.jsx(p,{className:b.btnFull,onClick:function(){null==j||j("jobs"),v()},children:d.buttons.jobs}),l.jsx(p,{className:b.btnFull,onClick:function(){return null==j?void 0:j("monster")},children:"Ð‘Ð¾Ð¹ Ñ Ð¼Ð¾Ð½ÑÑ‚Ñ€Ð¾Ð¼"}),l.jsx(p,{className:b.btnFull,onClick:function(){return null==j?void 0:j("merchant")},children:"Ð¢Ð¾Ñ€Ð³Ð¾Ð²ÐµÑ†"}),l.jsx(p,{className:b.btnFull,onClick:function(){return null==j?void 0:j("leaderboard")},children:"Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð»Ð¸Ð´ÐµÑ€Ð¾Ð²"}),l.jsx(p,{className:b.btnFull,onClick:x,children:d.buttons.arena}),l.jsx(p,{className:b.btnFull,onClick:_,children:d.buttons.guild})]})]}),l.jsx("section",{className:"".concat(b.panel," ").concat(b.appear),children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{opacity:.7,fontSize:12},children:"ÐÐ¸Ðº Ð±ÐµÑ€Ñ‘Ñ‚ÑÑ Ð¸Ð· Telegram WebApp"}),l.jsx("button",{onClick:function(){try{localStorage.removeItem("mirevald:player"),localStorage.removeItem("mirevald:session"),localStorage.removeItem("mirevald:clan")}catch(e){}location.reload()},style:{background:"transparent",border:"none",color:"var(--gold)",cursor:"pointer",fontSize:12,textDecoration:"underline"},"aria-label":"reset-profile",children:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð°"})]})})]})});var b={wrap:"_wrap_yzi99_2",panel:"_panel_yzi99_11",titleRow:"_titleRow_yzi99_24",panelGlow:"_panelGlow_yzi99_31",appear:"_appear_yzi99_52 _panel_yzi99_11",buttonList:"_buttonList_yzi99_93",btnFull:"_btnFull_yzi99_100"}}}})}();
