!function(){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r(t)}function t(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function e(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(e=e.call(r)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=a.call(e)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(r){c=!0,o=r}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(r,t)||function(r,t){if(r){if("string"==typeof r)return o(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}System.register(["./index-legacy-BYu6Ok2m.js","./time-legacy-CAhSdEcu.js"],function(r,o){"use strict";var a,i,u,l,c,f,d,s;return{setters:[function(r){a=r.r,i=r.j,u=r.c,l=r.s},function(r){c=r.r,f=r.f,d=r.n,s=r.s}],execute:function(){r({T:function(r){var t=r.endsAt,e=n(a.useState(c(t)),2),o=e[0],u=e[1];return a.useEffect(function(){var r=setInterval(function(){return u(c(t))},1e3);return function(){return clearInterval(r)}},[t]),i.jsxs("span",{style:{padding:"4px 8px",borderRadius:10,border:"1px solid rgba(255,255,255,0.1)",background:"var(--panel-bg)"},children:["Осталось: ",f(o)]})},a:function(){try{var r=localStorage.getItem(y);return r?JSON.parse(r):null}catch(t){return null}},b:function(r,t){var e,n,o=d(),a=s(1800),i=Math.floor(1e9*Math.random()),u=null!==(e=null===(n=r.progress)||void 0===n?void 0:n.level)&&void 0!==e?e:1,l=Math.round(function(r){return 40+8*r}(u)*t.diffMul),c={active:!0,startedAt:o,endsAt:o+a,seed:i,monster:t.name,monsterId:t.id,difficulty:l,rewardMul:t.rewardMul};return v(c),c},c:v,g:function(r,n){var o=function(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){e(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}({},r);n.gold&&(o.gold+=n.gold,o.goldTotal=o.goldTotal?o.goldTotal+n.gold:n.gold);if(n.xp){var a=n.xp;try{localStorage.getItem("mirevald:clan")&&(a=Math.round(1.1*a))}catch(i){}o=u(o,a)}n.energy&&(o.energy=Math.min(o.energyMax,o.energy+n.energy));return l(o),o},i:function(r){return!(!r||!r.active)&&r.endsAt>d()},l:function(){try{var r,t=localStorage.getItem(o);if(!t)return{tasks:m(100),active:[],vault:[],limits:{quest:1,job:2}};var e=JSON.parse(t);return{tasks:m(100),active:Array.isArray(e.active)?e.active:[],vault:Array.isArray(e.vault)?e.vault:[],limits:null!==(r=e.limits)&&void 0!==r?r:{quest:1,job:2}}}catch(n){return{tasks:m(100),active:[],vault:[],limits:{quest:1,job:2}}}},s:function(r){localStorage.setItem(o,JSON.stringify(r))}});var o="mirevald:game";function m(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=[],e=[1],n=5;n<=r;n+=5)e.push(n);return e.forEach(function(r,e){var n=e+1,o=60*(3+Math.min(10,Math.floor(.75*n))),a=60*(5+Math.min(20,Math.floor(n))),i=2+Math.floor(n/5),u=2+Math.floor(n/4),l=15+Math.round(2*r),c=10+Math.round(1.2*r),f=40+6*r;t.push({id:"q-".concat(r),kind:"quest",title:"Задание уровня ".concat(r),desc:"Испытание для героев ур. ≥ ".concat(r),durationSec:o,costEnergy:i,reward:{xp:l,gold:Math.round(.5*f)},requiredLevel:r}),t.push({id:"j-".concat(r),kind:"job",title:"Работа уровня ".concat(r),desc:"Подходит для ур. ≥ ".concat(r),durationSec:a,costEnergy:u,reward:{gold:Math.round(f),xp:c},requiredLevel:r})}),t}r("M",[{id:"m1",name:"Дикий кабан",diffMul:.6,rewardMul:.7},{id:"m2",name:"Гоблин-разбойник",diffMul:.75,rewardMul:.85},{id:"m3",name:"Волк-альфа",diffMul:.9,rewardMul:1},{id:"m4",name:"Отшельник-маг",diffMul:1,rewardMul:1.1},{id:"m5",name:"Гнолл-воин",diffMul:1.1,rewardMul:1.25},{id:"m6",name:"Тролль-бродяга",diffMul:1.2,rewardMul:1.35},{id:"m7",name:"Огр-громила",diffMul:1.35,rewardMul:1.5},{id:"m8",name:"Дух леса",diffMul:1.5,rewardMul:1.65},{id:"m9",name:"Дракончик",diffMul:1.65,rewardMul:1.8},{id:"m10",name:"Древний ужас",diffMul:1.8,rewardMul:2}]);var y="mirevald:battle";function v(r){if(r)localStorage.setItem(y,JSON.stringify(r));else try{localStorage.removeItem(y)}catch(t){}}}}})}();
