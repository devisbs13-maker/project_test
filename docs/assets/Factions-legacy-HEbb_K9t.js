!function(){function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,e,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(n,o,i,a){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return t(s,"_invoke",function(n,t,o){var i,a,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(n,t){return i=n,a=0,c=r,d.n=t,u}};function p(n,t){for(a=n,c=t,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],p=d.p,y=i[2];n>3?(o=y===t)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,d.v=t,d.n=i[1]):p<y&&(o=n<3||i[0]>t||t>y)&&(i[4]=n,i[5]=t,d.n=y,a=0))}if(o||n>1)return u;throw f=!0,t}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),a=s,c=y;(e=a<2?r:c)||!f;){i||(a?a<3?(a>1&&(d.n=-1),p(a,c)):d.n=c:d.v=c);try{if(l=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=r}else if((e=(f=d.n<0)?c:n.call(t,d))!==u)break}catch(e){i=r,a=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,i,a),!0),s}var u={};function l(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][i]?e(e([][i]())):(t(e={},i,function(){return this}),e),p=f.prototype=l.prototype=Object.create(d);function y(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,t(n,a,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=f,t(p,"constructor",f),t(f,"constructor",s),s.displayName="GeneratorFunction",t(f,a,"GeneratorFunction"),t(p),t(p,a,"Generator"),t(p,i,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:c,m:y}})()}function t(n,r,e,o){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}t=function(n,r,e,o){function a(r,e){t(n,r,function(n){return this._invoke(r,e,n)})}r?i?i(n,r,{value:e,enumerable:!o,configurable:!o,writable:!o}):n[r]=e:(a("next",0),a("throw",1),a("return",2))},t(n,r,e,o)}function r(n,t,r,e,o,i,a){try{var c=n[i](a),u=c.value}catch(n){return void r(n)}c.done?t(u):Promise.resolve(u).then(e,o)}function e(n){return function(){var t=this,e=arguments;return new Promise(function(o,i){var a=n.apply(t,e);function c(n){r(a,o,i,c,u,"next",n)}function u(n){r(a,o,i,c,u,"throw",n)}c(void 0)})}}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(n)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(e=i.call(r)).done)&&(c.push(e.value),c.length!==t);u=!0);}catch(n){l=!0,o=n}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(n,t)||function(n,t){if(n){if("string"==typeof n)return i(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}System.register(["./index-legacy-sQPHl0hb.js","./Header-legacy-B5-kvu7l.js","./Button-legacy-C6P2gk7c.js"],function(t,r){"use strict";var i,a,c,u,l,s,f,d;return{setters:[function(n){i=n.r,a=n.x,c=n.y,u=n.j,l=n.z,s=n.A},function(n){f=n.H},function(n){d=n.B}],execute:function(){t("default",function(t){var r,p=t.player,y=t.onBack,v=o(i.useState([]),2),h=v[0],b=v[1],g=o(i.useState(null),2),m=g[0],j=g[1];function x(){return(x=e(n().m(function t(r){var e;return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l(r);case 1:null!=(e=n.v)&&e.ok&&e.factionId&&j(e.factionId);case 2:return n.a(2)}},t)}))).apply(this,arguments)}function w(){return(w=e(n().m(function t(){var r;return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s();case 1:null!=(r=n.v)&&r.ok&&j(null);case 2:return n.a(2)}},t)}))).apply(this,arguments)}return i.useEffect(function(){e(n().m(function t(){var r,e,o;return n().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,a();case 1:null!=(r=n.v)&&r.ok&&r.items&&b(r.items),n.n=3;break;case 2:n.p=2,n.v;case 3:return n.p=3,n.n=4,c();case 4:null!=(o=n.v)&&o.ok&&j(null!==(e=o.factionId)&&void 0!==e?e:null),n.n=6;break;case 5:n.p=5,n.v;case 6:return n.a(2)}},t,null,[[3,5],[0,2]])}))()},[]),u.jsxs("div",{style:{display:"grid",gap:12,padding:16},children:[u.jsx(f,{title:"Factions",gold:p.gold,energy:p.energy,level:p.progress.level,onBack:y}),u.jsxs("section",{style:{padding:12,borderRadius:16,background:"var(--panel-bg)",border:"var(--panel-border)",display:"grid",gap:10},children:[u.jsxs("div",{style:{opacity:.9},children:["Your faction: ",u.jsx("b",{children:m?(null===(r=h.find(function(n){return n.id===m}))||void 0===r?void 0:r.name)||m:"None"})]}),m&&u.jsx(d,{onClick:function(){return w.apply(this,arguments)},children:"Leave faction"})]}),u.jsx("section",{style:{display:"grid",gap:8},children:h.map(function(n){return u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",borderRadius:12,background:"var(--panel-bg)",border:"1px solid rgba(255,255,255,0.08)"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:700},children:n.name}),u.jsxs("div",{style:{opacity:.85,fontSize:12},children:["Members: ",n.members]})]}),u.jsxs(d,{onClick:function(){return function(n){return x.apply(this,arguments)}(n.id)},disabled:m===n.id,children:[" ",m===n.id?"Joined":"Join"," "]})]},n.id)})})]})})}}})}();
